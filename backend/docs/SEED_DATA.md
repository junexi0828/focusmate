# Seed Data - 개발용 테스트 데이터 (Comprehensive)

## 개요

초기 개발 단계에서 관리자 계정으로 모든 기능을 테스트할 수 있도록 샘플 데이터를 생성하는 기능입니다.

## 목적

- 관리자 계정으로 모든 기능 테스트 가능
- 데이터 없이도 UI/UX 확인 가능
- 개발 환경에서 빠른 프로토타이핑 지원

## 사용 방법

`manage.py`의 `seed` 명령어를 사용하여 시드 데이터를 생성합니다.

```bash
python manage.py seed
```

## 생성되는 데이터

### 1. 샘플 사용자 (10명)

- 관리자 계정 2개 (설정된 `ADMIN_EMAIL` 포함)
- 일반 사용자 8명 (다양한 학과 및 전과 정보 포함)

### 2. 샘플 방 (5개)

- 오전 집중 세션, 오후 스터디, 야간 코딩 등 다양한 테마
- 집중 시간: 25분 또는 30분
- 휴식 시간: 5분 또는 10분

### 3. 참여자 및 타이머

- 각 방에 관리자(호스트) + 3-5명의 샘플 참여자 추가
- 활성 방에 대한 실시간 타이머(IDLE 상태) 초기화

### 4. 방 예약 (3개)

- 오늘, 내일, 모레 등 다양한 시간대의 예약 데이터

### 5. 세션 히스토리 및 통계 (초대형)

- 각 사용자별 약 60-120개의 과거 세션 기록 (총 1000개 이상)
- 과거 90일간의 데이터를 포함하여 대시보드 차트 즉시 확인 가능
- 관리자 및 일반 사용자 통계 자동 반영

### 6. 업적 시스템

- 5개 이상의 업적 정의 생성
- 사용자별 달성 현황 및 진행도 데이터 생성

### 7. 커뮤니티 게시글 (20개 이상)

- 팁, 질문, 일반, 후기 등 다양한 카테고리
- 각 게시글에 대한 다수의 댓글 및 좋아요 데이터 (총 100개 이상)

### 8. 랭킹 시스템 (팀 및 미니게임)

- 3개의 샘플 팀 생성 (Study Warriors, Focus Masters 등)
- 팀별 고유 초대 코드 및 인증 요청 데이터
- 랭킹용 세션 기록 및 5종류 이상의 미니게임 점수 데이터
- 리더보드 데이터 즉시 확인 가능

### 9. 매칭 시스템

- 8개 이상의 매칭 풀 생성
- 풀 간의 매칭 제안 및 수락/거절 상태 데이터

### 10. 소셜 및 메시징

- 친구 관계 및 친구 요청 데이터
- 사용자 간 1:1 대화방 및 메시지 기록

## 동작 방식

1. 관리자 계정 생성: `ADMIN_EMAIL` 설정값으로 관리자 계정 자동 생성 (비밀번호: `admin123`)
2. 중복 방지: 이미 존재하는 데이터는 스킵
3. 대량 데이터 생성: 모든 기능(피처)에 대한 유기적인 테스트 데이터 생성
4. 트랜잭션 처리: 오류 발생 시 롤백

## 주의사항

- **개발 환경 전용**: 프로덕션 환경에서는 절대 사용하지 마십시오.
- **중복 실행 안전**: 여러 번 실행해도 동일한 데이터가 중복 생성되지 않도록 설계됨.
- **관리자 자동 생성**: 시드 스크립트 실행 시 관리자 계정이 없으면 자동으로 생성됩니다.

## 관리자 계정 설정

환경 변수 `.env`에서 관리자 이메일을 설정합니다. 관리자 계정은 해당 이메일로 회원가입 시 자동으로 `is_admin=True`로 설정됩니다.

```
ADMIN_EMAIL=admin@focusmate.dev
```

## 확인 방법

시드 데이터 생성 후 다음 기능들을 테스트할 수 있습니다:

- **홈 화면**: "참여방" 섹션에 생성된 방 목록 표시
- **방 예약**: "방 예약" 섹션에 예약 목록 표시
- **방 입장**: 각 방에 참여자 목록 확인
- **통계 페이지**: 세션 히스토리 기반 통계 및 차트 확인
- **업적 시스템**: 업적 목록 및 해제된 업적 확인
- **커뮤니티**: 게시글 목록, 댓글, 좋아요 기능 확인
- **랭킹 시스템**: 팀 정보, 세션 기록, 미니게임 점수 확인
- **리더보드**: Hall of Fame 페이지에서 팀 랭킹 확인

## 문제 해결

관리자 계정은 시드 스크립트에 의해 자동 생성되지만, 수동으로 확인하려면:

1. 환경 변수의 `ADMIN_EMAIL` 확인
2. 비밀번호 `admin123`으로 로그인

### 데이터가 중복 생성되는 경우

시드 스크립트는 중복을 방지하지만, 필요시 데이터베이스를 초기화한 후 다시 시드 데이터를 생성할 수 있습니다.

```bash
python manage.py reset-db
python manage.py upgrade head
python manage.py seed
```
